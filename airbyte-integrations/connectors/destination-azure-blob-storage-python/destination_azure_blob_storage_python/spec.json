{
  "documentationUrl": "https://docs.airbyte.com/integrations/destinations/azure-blob-storage-python",
  "supported_destination_sync_modes": [
    "overwrite"
  ],
  "supportsIncremental": true,
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Destination Azure Blob Storage Python",
    "type": "object",
    "required": [
      "storage_account_name",
      "container_name",
      "credentials"
    ],
    "additionalProperties": false,
    "properties": {
      "storage_account_name": {
        "title": "Storage Account Name",
        "description": "The name of the Azure storage account.",
        "type": "string",
        "order": 1
      },
      "container_name": {
        "title": "Container Name",
        "description": "The name of the Azure blob container.",
        "type": "string",
        "order": 2
      },
      "path_name": {
        "title": "Path Name",
        "description": "The path of the Azure blob container folder.",
        "type": "string",
        "order": 3
      },
      "file_type": {
        "title": "Output Format",
        "type": "object",
        "description": "Output data format",
        "oneOf": [
          {
            "title": "CSV",
            "required": ["format_type"],
            "properties": {
              "format_type": {
                "type": "string",
                "const": "csv"
              },
              "flattening": {
                "type": "string",
                "title": "Normalization (Flattening)",
                "description": "Whether the input json data should be normalized (flattened) in the output CSV. Please refer to docs for details.",
                "default": "No flattening",
                "enum": ["No flattening", "Root level flattening"]
              }
            }
          },
          {
            "title": "Parquet",
            "required": ["format_type"],
            "properties": {
              "format_type": {
                "type": "string",
                "const": "parquet"
              }
            }
          },
          {
            "title": "Avro",
            "required": ["format_type"],
            "properties": {
              "format_type": {
                "type": "string",
                "const": "avro"
              }
            }
          }
        ]
      },
      "credentials": {
        "title": "Authentication",
        "description": "Credentials for connecting to Azure Blob Storage",
        "type": "object",
        "order": 4,
        "oneOf": [
          {
            "title": "Authenticate via Storage Account Key",
            "type": "object",
            "required": ["auth_type","azure_blob_storage_account_key"],
            "properties": {
              "auth_type": {
                "title": "Auth Type",
                "default": "Storage Account Key",
                "const": "Storage Account Key",
                "enum": ["Storage Account Key"],
                "type": "string"
              },
              "azure_blob_storage_account_key": {
                "title": "Azure Blob Storage account key",
                "description": "The Azure blob storage account key.",
                "airbyte_secret": true,
                "examples": [
                  "example"
                ],
                "type": "string"
              }
            }
          },
          {
            "title": "Authenticate via Service Principal Token",
            "type": "object",
            "required": ["auth_type", "tenant_id", "client_secret", "client_id"],
            "properties": {
              "auth_type": {
                "title": "Auth Type",
                "default": "Service Principal Token",
                "const": "Service Principal Token",
                "enum": ["Service Principal Token"],
                "type": "string",
                "required": ["auth_type"]
              },
              "tenant_id": {
                "title": "Tenant Id",
                "description": "The Azure Tenant Id.",
                "airbyte_secret": true,
                "examples": [
                  "example"
                ],
                "type": "string"
              },
              "client_secret": {
                "title": "Client Secret",
                "description": "The Azure Client Secret.",
                "airbyte_secret": true,
                "examples": [
                  "example"
                ],
                "type": "string"
              },
              "client_id": {
                "title": "Client Id",
                "description": "The Azure Client Id.",
                "airbyte_secret": true,
                "examples": [
                  "example"
                ],
                "type": "string"
              }
            }
          }
        ]
      }
  }
}
}
